<app-mat-loading *ngIf="isLoading"></app-mat-loading>
<section [hidden]="isLoading" class="book-details">
    <mat-card class="mat-elevation-z8">
        <h2 class="product-details__title">{{product.name}}</h2>
        <div fxLayout="row">
            <ngb-carousel class="carousel">
                <ng-container *ngFor="let file of files">
                    <ng-template ngbSlide [id]="file.id">     
                        <div class="ava" [ngStyle]="{ 'background-image': file.imageSource }"></div>
                        <div class="carousel-caption">
                            <h3>{{product.name}}</h3>
                            <p>{{product.description}}</p>
                        </div>
                    </ng-template>
                </ng-container>
            </ngb-carousel>
            <div class="product-details__description-category">
                <p class="product-details_description">
                    {{product.description}}
                </p>
            </div>
        </div>

        <strong class="product-details__price">Price: ${{product.unitPrice}}</strong>
        <div class="product-details-action">
            <button class="product-details__add-to-cart" mat-raised-button color="primary"
                (click)="addToCart(product.id)" *appAuthorize="'User'">
                Add to cart
            </button>
            <a class="product-details__edit" mat-raised-button color="default" routerLink="edit"
                *appAuthorize="'Admin'">
                Edit
            </a>
            <button class="product-details__delete" mat-raised-button color="warn" (click)="onDeleteProduct(product.id)"
                *appAuthorize="'Admin'">
                Delete
            </button>
        </div>
    </mat-card>
</section>